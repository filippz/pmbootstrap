From 4e16a19abdad694f0fe938bce507ee31891f8802 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Filip=20Matijevi=C4=87?= <filip.matijevic.pz@gmail.com>
Date: Sun, 17 Sep 2017 07:59:47 +0200
Subject: [PATCH 51/53] drm: omapdrm: panel-dsi-cm: add DT rotation support
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: Filip MatijeviÄ‡ <filip.matijevic.pz@gmail.com>
---
 drivers/gpu/drm/omapdrm/displays/panel-dsi-cm.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/drivers/gpu/drm/omapdrm/displays/panel-dsi-cm.c b/drivers/gpu/drm/omapdrm/displays/panel-dsi-cm.c
index f888a98120cf..61baf613f539 100644
--- a/drivers/gpu/drm/omapdrm/displays/panel-dsi-cm.c
+++ b/drivers/gpu/drm/omapdrm/displays/panel-dsi-cm.c
@@ -1451,6 +1451,7 @@ static int dsicm_probe_of(struct platform_device *pdev)
	of_property_read_u32(node, "resolution-y", (u32*) &ddata->vm.vactive);
	of_property_read_u32(node, "offset-x", &ddata->offset_x);
	of_property_read_u32(node, "offset-y", &ddata->offset_y);
+	of_property_read_u8(node, "rotation", &ddata->rotation);

	ddata->vm.pixelclock = ddata->vm.vactive * ddata->vm.hactive * 60;

--
2.11.0
