From fcbb3af10e24f350dd00844832a7e368d14544d9 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Filip=20Matijevi=C4=87?= <filip.matijevic.pz@gmail.com>
Date: Fri, 1 Jul 2016 18:52:11 +0200
Subject: [PATCH 15/53] ARM: dts: N9: Add vibra support
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: Filip MatijeviÄ‡ <filip.matijevic.pz@gmail.com>
---
 arch/arm/boot/dts/omap3-n9.dts | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

diff --git a/arch/arm/boot/dts/omap3-n9.dts b/arch/arm/boot/dts/omap3-n9.dts
index f77322204d71..2d6dfa092b5e 100644
--- a/arch/arm/boot/dts/omap3-n9.dts
+++ b/arch/arm/boot/dts/omap3-n9.dts
@@ -30,6 +30,12 @@
			OMAP3_CORE1_IOPAD(0x216a, PIN_INPUT_PULLUP | MUX_MODE3) /* sdmmc2_dat7.sdmmc3_dat3 */
		>;
	};
+
+	vibra_gpio: pinmux_vibra_gpio {
+		pinctrl-single,pins = <
+			OMAP3_CORE1_IOPAD(0x21de, PIN_OUTPUT | MUX_MODE4)	/* mcspi2_cs1 -> gpio_182 */
+		>;
+	};
 };

 &i2c2 {
@@ -145,3 +151,14 @@
 &lcd0 {
	compatible = "smd,pyrenees", "panel-dsi-cm";
 };
+
+&mcspi2 {
+	vibra@0 {
+		compatible = "nokia,vibra-spi";
+		spi-max-frequency = <750000>;
+		reg = <0>;
+		pinctrl-names = "default";
+		pinctrl-0 = <&vibra_gpio>;
+		enable-gpio = <&gpio6 22 GPIO_ACTIVE_HIGH>; /* gpio_182 */
+	};
+};
--
2.11.0
